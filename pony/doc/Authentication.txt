Аутентификация
==============

Аутентификация направлена на то, чтобы отличить настоящего пользователя от злоумышленника,
выдающего себя за настоящего пользователя.

Когда пользователь ввел логин и пароль на сайте, для пользователя создается
сессия. Затем, когда пользователь запрашивает другие страницы, веб приложение
понимает, что это тот же самый пользователь благодаря этой сессии.

Различные фреймворки реализуют механизм аутентификации и работы с сессией по-разному.
Например, во многих PHP фреймворках идентификатор сессии добавляется в URL.
Когда в веб-приложение поступает такой запрос, из базы данных извлекается
информация о сессии для данного идентификатора. Недостатком такой схемы
является слабая защищенность - идентификатор, указанный в строке адреса может
быть легко перехвачен злоумышленником.
В других системах для хранения сессий используются кукисы (cookies).
Кукисы - это данные(максимальный размер - 4 килобайта), которые веб-сайт посылает
браузеру вместе с запрошенной HTML страницей.
Браузер запоминает эти данные и посылает серверу каждый раз при обращении
за новой страницей. Таким образом веб-сайт отличает одного пользователя от другого.

Пони использует кукисы для хранения данных сессии. Данные подписываются цифровой
подписью, что препятствует подделке.
Эта цифровая подпись действительна только в течении некоторого времени
и при создании сессии в настройках можно указать, что она действительна только
при поступлении запроса с конкретного IP-адреса.
таким образом если злоумышленник сумел получить информацию об устаревшей сесии,
он не сможет ей воспользоваться, потому что она будет устаревшей.


Хранение данных в кукисах имеет преимущество - это избавляет от необходимости
обращаться к базе данных за данными сессии для обработки каждого запроса, что
ускоряет работу и снижает нагрузку на базу данных.
При хранении данных в кукисах есть одно ограничение - максимально допустимый размер
данных (4 килобайта). Если есть необходимость хранить в сессии данные большего размера,
тогда можно держать данные в файле на сервере или в базе данных. Кукис в таком случае
служит для передачи идентификатора сессии. На данный момент для хранения
данных сессии Пони использует только кукисы.


