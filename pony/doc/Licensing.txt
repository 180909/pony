Лицензия
=======

Как это обычно делается, предупреждаем: мы не юристы.
Но мы полагаем, что все изложенное здесь является достоверным.

Пони распространяется под двумя лицензиями. Первая из них - это
[AGPL][] ([Affero General Public License][AGPL],
бесплатная OpenSource лицензия, одобренная [FSF][]),
а вторая -  коммерческая (платная). Вы можете выбрать ту из них,
которая больше подходит под ваши требования.

  [AGPL]: http://en.wikipedia.org/wiki/AGPL
  [FSF]: http://en.wikipedia.org/wiki/Free_Software_Foundation

Использование лицензии AGPL
---------------------------

Можно совершенно бесплатно использовать Пони под лицензией AGPL.
Это накладывает на вас ограничение: любой код, использующий Пони
(например, написанный вами интернет-магазин) также должен
распространяться под лицензией AGPL.

Согласно требованиям AGPL, любой пользователь вашей системы
(даже если он использует ее как сервис, через интернет) вправе
потребовать ее полный исходный код, и вы должны его предоставить.

Во многих случаях, например, если вы создаете некоммерческую систему,
это требование является вполне приемлемым, и тогда вы можете не платить
за использование Пони никаких денег. Но часто при создании коммерческой
системы ее разработчик не хочет, чтобы исходный код был доступен для
бесплатного использования другими лицами. Тогда он может заплатить
небольшие деньги, и вместо AGPL использовать для Пони обычную коммерческую
лицензию.

Обратите внимание, что пока веб-приложение находится в разработке,
и его "пользователями" являются сами разработчики, вы можете применять
к Пони лицензию AGPL и не покупать коммерческую лицензию до тех пор,
пока у вашей системы не появятся "настоящие" пользователи.

Использование коммерческой лицензии
-----------------------------------

Если вы используете Пони под коммерческой лицензией, то не обязаны никому
показывать свои исходники. Коммерческая лицензия для Пони приобретается
на одновременно запущенные процессы. Если вы приобрели, скажем, четыре
экземпляра коммерческой лицензии, то имеете право одновременно запустить
четыре процесса, в которых используется Пони. При этом никаких специальных
ограничений на количество потоков или обслуживаемых сайтов не накладывается.

Таким образом, если вы хотите поддерживать десять сайтов с умеренным
трафиком, то можете купить одну копию коммерческой лицензии,
запустить один процесс и в нем одновременно обеспечивать
отображение всех этих сайтов.

Одной из особенностью Питона является [GIL][] ([Global Interpreter Lock][GIL]),
из-за которого потоки питоновского процесса не могут использовать несколько
процессоров одновременно. Если вы поддерживаете сайт с интенсивным траффиком
и перед вами стоит задача полностью утилизировать ресурсы четырехъядерного
процессора, то возможным решением будет покупка четырех экземпляров
коммерческой лицензии и запуск на одном компьютере четырех процессов,
использующих Пони. Другим возможным решением для полной утилизации ресурсов
процессора будет запуск на компьютере одного процесса с Пони, а также
других процессов, таких как прокси-сервер или СУБД.

  [GIL]: http://docs.python.org/c-api/init.html#threads

Стоимость одного экземпляра коммерческой лицензии - **50 долларов**.

Для преимущественно русскоязычных сайтов (то есть тех, у которых аудитория
более чем на 50 процентов состоит из русскоязычных пользователей)
стоимость одного экземпляра коммерческой лицензии - **500 рублей**.

Пони позволяет использовать для хостинга сервис Google AppEngine.
В этом случае, разработчику приложения может быть сложно проконтролировать,
сколько процессов с Пони одновременно запущено, так как Google AppEngine
останавливает и запускает процессы автоматически, в зависимости от
нагрузки на сайт. На сегодняшний день коммерческая лицензия предусматривает,
что при запуске Пони на Google AppEngine достаточно купить одну копию
коммерческой лицензии независимо от того, сколько запущено процессов.
В будущих версиях Пони это правило может поменяться. Данное правило
не касается самой корпорации Google (если она решит использовать Пони),
так как у нее самой больше возможностей определить действительное число
запущенных процессов.

Почему Пони не использует "обычную" GPL2-лицензию?
--------------------------------------------------

Потому что на наш взгляд лицензия GPL2 недостаточно открытая,
и не учитывает особенности веб-приложений. Смысл лицензии GPL2 в том,
чтобы пользователи системы, производя в ней улучшения, не становились
единоличными обладателями этих улучшений, а "делились" бы с остальным
сообществом программистов, будучи обязанными распространять измененный
код именно под лицензией GPL2. Но GPL2 не требует, чтобы такое
распространение обязательно происходило, поэтому если кто-то
использует GPL2 код для разработки веб-сервиса, он может не возвращать
в комьюнтити усовершенствованный код, так как формально говоря
распространения кода не происходит, а пользователь просто пользуется
предоставленным сервисом. Если бы мы выпускали Пони под лицензией GPL2,
то некоторые фирмы (такие как Google) могли бы разрабатывать на основе
Пони свои фреймворки и не делиться с комьюнити своими результатами.
В случае с AGPL такого злоупотребления произойти не может,
поэтому мы ее и используем.

Совместимость с другими лицензиями
----------------------------------

Разные лицензии могут содержать противоречивые требования, и поэтому
быть несовместимыми друг с другом. Допустим, что вы совместно с Пони
используете некую библиотеку, распространяемую под лицензией GPL2.
Если вы используете Пони под лицензией AGPL, то возникает противоречие.
Каждая из этих лицензий требует, чтобы весь код полученной системы
распространялся именно под ней, причем AGPL требует, чтобы это
распространение действительно имело место быть. Выходом из такой
ситуации может быть использование Пони под коммерческой лицензией.
Тогда конфликта не возникает, так как хотя GPL2 требует, чтобы
распространение (если оно есть) происходило именно под GPL2,
но ни GPL2, ни коммерческая лицензия Пони не говорят, что распространение
обязательно должно происходить. Поэтому купив коммерческую лицензию
для Пони вы можете смело использовать Пони совместно с GPL2-лицензированными
модулями для постройки коммерческих веб-сайтов с закрытым кодом.

**Важно:**
Обратите внимание, что AGPL совместима с [новой версией GPL][GPLv3],
поэтому вы можете спокойно использовать модули, распространяемые
под [GPLv3][] как с бесплатной, так и с коммерческой версией Пони.

  [GPLv3]: http://en.wikipedia.org/wiki/GPLv3

Модули, идущие под другой лицензией
-----------------------------------

Некоторые модули, входящие в состав Пони, написаны другими авторами
и имеют другую лицензию (совместимую с лицензией самой Пони).
(...)

