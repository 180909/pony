
Безопасные и небезопасные строки

Веб приложения могут быть подвержены Cross-Site Scripting (XSS) атаке.
Суть этой атаки в следующем. Допустим есть веб-сайт, на котором есть форум. 
Злоумышленник под видом сообщения передает на сайт javascript код. Веб-приложение сохраняет
этот код в базе данных как и любое другое сообщение.
Теперь у любого пользователя, который откроет страницу, содержащую это сообщение, выполнится переданный злоумышленником javascript код. 
Чтобы защититься от такого рода атак, все данные, которые получены сервером от пользователя должны пройти процесс эскапирования -
преобразования символов &amp;,&lt;,&quot;,&gt;,&#39; в их эквиваленты для безопасного представления на странице.

В большинстве современных веб-фреймворков для того, чтобы выполнилось такое преобразование, нужно вызвать специальную функцию.
Такой подход неудобен и чреват ошибками. В Пони реализована более удобная концепция.
Строки, которые генерируются в Пони, являются экземплярами класса Html. Это безопасные строки.
Любой текст, который Пони получает от пользователя считается небезопасной строкой. Любое соединение небезопасной строки
со строкой Html приводит к эскапированию небезопасной строки перед соедниением. Таким образом, если пользователь передал в веб-приложение
код, при генерации страницы этот код будет преобразован в безопасную строку и выведен как обычный текст.




### Использование функции printhtml


printhtml

Для генерации более сложных страниц удобно использовать шаблоны, о которых пойдет речь далее.