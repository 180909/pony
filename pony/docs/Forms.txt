Формы
=====

HTML форма - это набор элементов, которые позволяют пользователю ввести данные и передать эти данные на сервер.

В Пони формы можно создавать двумя путями.
Можно создать форму используя класс формы Form и затем указать в тексте функции поля формы и их атрибуты:

    >>> @webpage('/')
    ... def index():
    ...     f = Form()
    ...     f.first_name = Text(required=True)
    ...     f.last_name = Text()
    ...     f.age = Text(type=int)
    ...     print f
    ... 
    >>> 

Другой способ - создать свой собственный класс формы, унаследовав от класса Form и указать необходимые поля в конструкторе:
 
    >>> class MyForm(Form):
    ...     def __init__(self):
    ...         self.first_name = Text(required=True)
    ...         self.last_name = Text()
    ...         self.age = Text(type=int)
    ...     def validate(self):
    ...         age = self.age.value
    ...         if age is None: pass
    ...         elif age < 10: self.age.error_text = "Must be 10 at least"
    ...         elif age > 120: self.age.error_text = "Must not be greater then 120"
    ...     def on_submit(self):
    ...         http.session['fname'] = self.first_name.value
    ... 
    >>> @webpage('/')
    ... def index():
    ...     f = MyForm()
    ...     print f
    ... 
    >>> 


Отличительной особенностью второго способа является то, что он позволяет 
определить алгоритм проверки валидности формы и ее полей, мы поговорим об этом подробнее чуть позже.

При работе с формой, функция, которая конструирует форму вызывается более одного раза.
Когда пользователь открывает страницу, которая содержит форму, соответствующая функция в нашей программе 
конструирует форму и присваивает указанные в программе значения полям (или значения по умолчанию).
Когда форма передается на сервер, например посредством нажатия кнопки "submit" на форме, та же самая функция 
конструирует форму и устанавливает введенные пользователем значения элементов.
Кроме того, у формы и у элементов формы устанавливаются значения для атрибутов is\_submitted и is\_valid.

is\_submitted приобретает значение True, если значения элементов отражают введенные пользователем 
данные (форма передана от пользователя)
is\_submitted приобретает значение False, если элементы были сконструированы используя указанные в программе
значения (форма сгенерирована для отображения пользователю) 

is\_valid приобретает значение True, если форма отражает введенные пользователем данные (была передана от пользователя),
все поля, указанные как обязательные (required) были заполнены и поставленные условия для значений полей были выполнены.
is\_valid приобретает значение False, если форма не была принята от пользователя, либо если значения полей не удовлетворяют
поставленным условиям.

Помимо стандартной разметки HTML форма может содержать следующие элементы:

    Hidden
    File
    Password
    Text
    DatePicker
    StaticText
    TextArea
    Checkbox
    Select
    RadioGroup
    MultiSelect
    CheckBoxGroup
    Composite
    Grid
    Submit and Reset buttons

Параметры формы
---------------
метод GET используется когда передаваемые через форму данные не изменяют хранимую на сервере информацию.
Например, в форме пользователю предлагается выбрать город, для которого с сервера передаются какие то записи.

метод POST используется когда передаваемые через форму данные изменяют хранимую на сервере информацию
Например, когда форма содержит данные для регистрации на сайте.

